<section class="min-h-screen bg-gray-50 py-10 px-4">
  <div class="max-w-6xl mx-auto">
    <h1 class="text-3xl font-semibold text-gray-800 mb-8 text-center">Your Orders</h1>

    @for (order of Allorders; track order._id){ @if (order.cartItems && order.cartItems.length > 0){
    <div
      class="bg-white rounded-2xl shadow-md p-6 mb-8 border border-gray-100 hover:shadow-lg transition"
    >
      <div
        class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4 border-b pb-4"
      >
        <div>
          <p class="text-gray-500 text-sm">Order ID:</p>
          <p class="font-semibold text-gray-800">#{{ order._id }}</p>
        </div>

        <div class="text-right">
          <p class="text-gray-500 text-sm">Placed On:</p>
          <p class="font-medium text-gray-700">
            {{ order.createdAt | date : 'medium' }}
          </p>
        </div>
      </div>

      <div class="space-y-4">
        <!-- Product Items -->

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 border-b pb-4">
          @for (item of order.cartItems; track item._id) {
          <div class="flex items-center gap-4">
            <img
              [src]="item.product.imageCover"
              alt="{{ item.product.title }}"
              class="w-20 h-20 object-contain rounded-lg border"
            />
            <div>
              <h2 class="font-semibold text-gray-800 text-base">
                {{ item.product.title }}
              </h2>
              <p class="text-sm text-gray-500">
                {{ item.product.category.name }}
              </p>
              <p class="text-sm font-medium text-gray-700">Quantity: {{ item.count }}</p>
            </div>
          </div>
          }
        </div>

        <!-- Summary -->
        <div class="flex justify-between items-center pt-4">
          <div>
            <p class="text-sm text-gray-600">
              Payment Method:
              <span class="font-medium text-gray-800">
                {{ order.paymentMethodType | uppercase }}
              </span>
            </p>
            <p class="text-sm text-gray-600">
              Status:
              <span
                [class]="{
                  'border-red-700': order.isPaid,
                  'border-green-700': !order.isPaid
                }"
              >
                {{ order.isPaid ? 'Paid' : 'Pending Payment' }}
              </span>
            </p>
          </div>

          <div class="text-right">
            <p class="text-lg font-semibold text-gray-800">
              Total: {{ order.totalOrderPrice | currency : 'EGP' }}
            </p>
          </div>
        </div>
      </div>
    </div>
    } }
  </div>
</section>
